<!-- CONTENT -->
<section id="content">
  <!-- MAIN -->
  <main>
    <div class="head-title">
      <div class="left">
        <h1>Dashboard</h1>
        <ul class="breadcrumb">
          <li>
            <a href="#">Dashboard</a>
          </li>
          <li><i class="bx bx-chevron-right"></i></li>
          <li>
            <a class="active" href="#">Home</a>
          </li>
        </ul>
      </div>
      <a href="#" class="btn-download">
        <i class="bx bxs-cloud-download bx-fade-down-hover"></i>
        <span class="text">Get PDF</span>
      </a>
    </div>

    <ul class="box-info">
      <li>
        <i class="bx bxs-calendar-check"></i>
        <span class="text">
          <h3>{{ categories.length }}</h3>
          <p>Total Categories</p>
        </span>
      </li>
      <li>
        <i class="bx bxs-group"></i>
        <span class="text">
          <h3>{{ users.length }}</h3>
          <p>Users</p>
        </span>
      </li>
      <li>
        <i class="bx bxs-dollar-circle"></i>
        <span class="text">
          <h3>{{ completedTotal | currency }}</h3>
          <p>Total Sales</p>
        </span>
      </li>
    </ul>

    <div class="table-data">
      <div class="order">
        <div class="head">
          <h3>Recent Orders</h3>
          <i class="bx bx-search"></i>
          <i class="bx bx-filter"></i>
        </div>
        <table>
          <thead>
            <tr>
              <th>Id</th>
              <th>Order Status</th>
              <th>Payment Type</th>
              <th>Address</th>
              <th>Country</th>
              <th>User email</th>
              <th>TotalPrice</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let order of orders">
              <td>{{ order.id }}</td>
              <td>
                <span
                  [ngClass]="{
                    status: true,
                    pending: order.status?.toLowerCase() === 'pending',
                    completed: order.status?.toLowerCase() === 'completed'
                  }"
                >
                  {{ order.status }}
                </span>
              </td>

              <td>
                <span *ngIf="order.paymentType === 'CreditCard'"
                  >ðŸ’³ Credit Card</span
                >
                <span *ngIf="order.paymentType === 'Cash'">ðŸ’µ Cash</span>
              </td>
              <td>{{ order.address }}</td>
              <td>{{ order.country }}</td>
              <td>{{ order.user.email }}</td>
              <td>{{ order.totalPrice | currency }}</td>
              <td>
                <button
                  (click)="changeOrder(order.id)"
                  [disabled]="order.status?.toLowerCase() === 'completed'"
                  class="complete-btn"
                >
                  âœ” Complete Order
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </main>
  <!-- MAIN -->
</section>
<!-- CONTENT -->
